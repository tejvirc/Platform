<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>How to add a jurisdiction </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="How to add a jurisdiction ">
    <meta name="generator" content="docfx 2.59.2.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="how-to-add-a-jurisdiction">How to add a jurisdiction</h1>

<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->
<!-- code_chunk_output -->
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#step-1-create-a-jurisdiction-folder">Step 1 – Create a Jurisdiction Folder</a></li>
<li><a href="#step-2-create-jurisdiction-addin">Step 2 – Create Jurisdiction Addin</a></li>
<li><a href="#step-3-add-jurisdiction-content">Step 3 – Add Jurisdiction Content</a><ul>
<li><a href="#hardware-config">Hardware Config</a></li>
<li><a href="#operator-menu-config">Operator Menu Config</a></li>
<li><a href="#tilt-logger-config">Tilt Logger Config</a></li>
<li><a href="#lobby-config">Lobby Config</a></li>
<li><a href="#sound">Sound</a></li>
</ul>
</li>
</ul>
<!-- /code_chunk_output -->
<h2 id="overview">Overview</h2>
<p>This document describes how to add a new jurisdiction to the Monaco
platform to vary platform behavior and configurable limits and other
data values.  This document does not describe specific jurisdictions or
their regulations.</p>
<h2 id="step-1--create-a-jurisdiction-folder">Step 1 – Create a Jurisdiction Folder</h2>
<p>Configuration for all jurisdictions resides in the source tree at the
following location:</p>
<blockquote><p>&lt;SolutionDir>\Jurisdiction\&lt;Jurisdiction>\</p>
</blockquote>
<p>There is a subdirectory at the above path for each jurisdiction.  The
jurisdiction name should be specific enough to identify the unique
jurisdiction.  For example, don’t use just “Oklahoma”, as that could be
either class 2 or class 3 which are very different jurisdictions.</p>
<p>Create a subdirectory for the new jurisdiction.</p>
<h2 id="step-2--create-jurisdiction-addin">Step 2 – Create Jurisdiction Addin</h2>
<p>Inside each jurisdiction folder there must reside a file with the
extension <em>.addin.xml</em> that defines a Mono.Addins addin for the
jurisdiction.  Refer to the document <strong>MonacoAddinsConfiguration.docx</strong>
for more information on Mono.Addins and how jurisdictions are
supported.  By convention, the addin file is named
<strong>Jurisdiction.addin.xml</strong>.  Create this file or copy it from another
jurisdiction’s folder.  At a minimum, the file will look like the
following sample where the highlighted items should be named after the
jurisdiction.</p>
<p>As you will see, the configuration calls out separate configuration
files as extensions.  We have a user story to replace this with a single
jurisdiction configuration file extension path where these other config
file paths would be listed within the jurisdiction configuration file. 
This will eliminate the need for everything to be an extension.  While
swapping out implementation can be handled through extension point
filtering, varying simple data values (e.g. meter limits, file paths,
etc.) can be handled through the jurisdiction configuration file.</p>
<p><strong>Jurisdiction Example</strong></p>
<pre><code class="lang-xml">&lt;Addin id=&quot;QuebecJurisdiction&quot; namespace=&quot;Client12Addins&quot;version=&quot;1.0&quot;/&gt;
  &lt;Dependencies/&gt;
    &lt;Addin id=&quot;Monaco.Kernel&quot; version=&quot;1.0&quot; /&gt;
    &lt;Addin id=&quot;Monaco.Application&quot; version=&quot;1.0&quot; /&gt;
    &lt;Addin id=&quot;Monaco.Application.UI&quot; version=&quot;1.0&quot; /&gt;
    &lt;Addin id=&quot;Monaco.Hardware.Discovery&quot; version=&quot;1.0&quot; /&gt;
    &lt;Addin id=&quot;SelectableJurisdiction&quot; version=&quot;1.0&quot; /&gt;
  &lt;/Dependencies/&gt;

  &lt;Runtime&gt;
  &lt;Import assembly=&quot;..\\..\\..\\Aristocrat.Monaco.Kernel.dll&quot; /&gt;
  &lt;/Runtime/&gt;

  &lt;Extension path=&quot;/Kernel/SelectableAddinConfiguration/Jurisdiction&quot;/&gt;
    &lt;SelectableJurisdiction name=&quot;Quebec VLT&quot; description=&quot;Top level Quebec jurisdiction group&quot;&gt;
      &lt;AddinConfigurationGroupReference name=&quot;BaseWpfOperatorMenus&quot;/&gt;
      &lt;AddinConfigurationGroupReference name=&quot;BaseConfigWizardPages&quot;/&gt;
      &lt;AddinConfigurationGroupReference name=&quot;BaseLoggerPage&quot;/&gt;

      &lt;ExtensionPointConfiguration extensionPath=&quot;/Platform/Discovery/Configuration&quot;&gt;
        &lt;NodeSpecification addinId=&quot;Client12Addins.QuebecJurisdiction&quot; filterid=&quot;QuebecHardwareConfig&quot; /&gt;
      &lt;/ExtensionPointConfiguration&gt;

      &lt;ExtensionPointConfiguration extensionPath=&quot;/TiltLogger/Configuration&quot;&gt;
        &lt;NodeSpecification addinId=&quot;Client12Addins.QuebecJurisdiction&quot; filterid=&quot;QuebecTiltLoggerConfig&quot; /&gt;
      &lt;/ExtensionPointConfiguration&gt;

      &lt;ExtensionPointConfiguration extensionPath=&quot;/OperatorMenu/Configuration&quot;&gt;
        &lt;NodeSpecification addinId=&quot;Client12Addins.QuebecJurisdiction&quot; filterid=&quot;QuebecOperatorMenuConfig&quot; /&gt;
      &lt;/ExtensionPointConfiguration&gt;

      &lt;ExtensionPointConfiguration extensionPath=&quot;/Lobby/Configuration&quot;&gt;
        &lt;NodeSpecification addinId=&quot;Client12Addins.QuebecJurisdiction&quot; filterid=&quot;QuebecLobbyConfig&quot; /&gt;
      &lt;/ExtensionPointConfiguration&gt;
    &lt;/SelectableJurisdiction&gt;
  &lt;/Extension&gt;

  &lt;Extension path=&quot;/Platform/Discovery/Configuration&quot;&gt;
    &lt;FilePath FilePath=&quot;.\\Config\\Jurisdiction\\Quebec-VLT\\PlatformDiscovery.config.xml&quot; filterid=&quot;QuebecHardwareConfig&quot; /&gt;
  &lt;/Extension&gt;

  &lt;Extension path=&quot;/TiltLogger/Configuration&quot;&gt;
    &lt;TiltLoggerConfiguration&gt;
      &lt;FilePath FilePath=&quot;.\\Config\\Jurisdiction\\Quebec-VLT\\TiltLogger.config.xml&quot; filterid=&quot;QuebecTiltLoggerConfig&quot; /&gt;
    &lt;/TiltLoggerConfiguration&gt;
  &lt;/Extension&gt;

  &lt;DoorOpenAlarm RepeatSeconds=&quot;0&quot; OperatorCanCancel=&quot;true&quot;&gt;
    &lt;FilePath FilePath=&quot;.\\Config\\Jurisdiction\\Quebec-VLT\\alarm.ogg&quot; filterid=&quot;QuebecTiltLoggerConfig&quot; /&gt;
  &lt;/DoorOpenAlarm&gt;

  &lt;Extension path=&quot;/OperatorMenu/Configuration&quot;&gt;
    &lt;FilePath FilePath=&quot;.\\Config\\Jurisdiction\\Quebec-VLT\\OperatorMenu.config.xml&quot; filterid=&quot;QuebecOperatorMenuConfig&quot; /&gt;
  &lt;/Extension&gt;

  &lt;Extension path=&quot;/Lobby/Configuration&quot;&gt;
    &lt;FilePath FilePath=&quot;.\\Config\\Jurisdiction\\Quebec-VLT\\Lobby.config.xml&quot; filterid=&quot;QuebecLobbyConfig&quot; /&gt;
  &lt;/Extension&gt;
&lt;/Addin&gt;
</code></pre><h2 id="step-3--add-jurisdiction-content">Step 3 – Add Jurisdiction Content</h2>
<p>Each jurisdiction needs to specify hardware, operator menu, tilt logger,
and lobby configuration as well as several sound files.</p>
<h3 id="hardware-config">Hardware Config</h3>
<p>Configuration for peripherals, I/O and other system hardware is
specified in an XML configuration file.  Because different jurisdictions
support different makes and models of hardware, the configuration file
resides in each jurisdiction folder.  As seen above in the
jurisdiction’s addin, the path to the file is provided as an
extension.  This document will not go into details about the schema or
content of the hardware configuration XML file.  Copy a
<strong>PlatformDiscovery.config.xml</strong> from another jurisdiction and edit as
needed to add/remove/modify hardware configuration.</p>
<h3 id="operator-menu-config">Operator Menu Config</h3>
<p>Because different jurisdictions use different types of hardware, not all
hardware related operator menus are applicable to a given jurisdiction. 
The operator menu configuration file path is also as an extension within
the jurisdiction addin.  Copy <strong>OperatorMenu.config.xml</strong> from another
jurisdiction and edit it as needed.</p>
<h3 id="tilt-logger-config">Tilt Logger Config</h3>
<p>Each jurisdiction has different regulations for which events must be
logged and accessible in an operator menu.  In Monaco, the component
responsible for such a log is the TiltLogger, which uses a configuration
file to determine which system events to capture.  The tilt logger
configuration file path is also as an extension within the jurisdiction
addin.  Copy <strong>TiltLogger.config.xml</strong> from another jurisdiction and
edit it as needed.  The file is basically just a big list of event types
(fully qualified type names) with the name of the assembly in which they
are defined.  The log can group them as errors or tilts.  &lt;TBD –
difference???/&gt;</p>
<h3 id="lobby-config">Lobby Config</h3>
<p>The user interface of the Lobby can vary by jurisdiction; for example,
Quebec requires a multilanguage button but Oregon does not.  In
addition, the graphics and videos could change and be themed differently
for different jurisdictions.  The lobby is configured per jurisdiction
in the Lobby.Config.xml.  Below is a summary of some of the options:</p>
<ul>
<li>MultiLanguageEnabled: True for a lobby UPI with a multilanguage
button (required for Quebec).</li>
<li>ResponsibleGamingTimeLimitEnabled: True for a lobby with a
responsible gaming time limit (required for Quebec).</li>
<li>LargeGameIconsEnabled: True for a lobby that displays large game
icons (required for Quebec).</li>
<li>DaysAsNew: The number of days a newly installed game will be flagged
as &quot;new.&quot;  </li>
<li>ResponsibleGamingTimeLimits: Four time limit options for responsible
gaming.  </li>
<li>LobbyUiDirectoryPath: The root path lobby asset files (e.g., images
and videos).  By convention, graphical lobby assets that can vary by
jurisdiction are placed in
the <em>Config/Jurisdiction/&lt;SpecificJurisdiction>/ui/</em> directory.</li>
<li>SkinFilename: References a .xaml file that defines XAML resources to
configure the lobby visuals (mostly images and videos, and some
positioning).  These XAML resources references jurisdiction based
asset files in the LobbyUiDirectoryPath.  Right now the skin .xaml
files are defined in the platform
Aristocrat.Monaco.Gaming.VideoLottery.UI project, and copied to the
platform output Skins directory (e.g., bin\Platform\Debug\Skins)
when building, but they are just loose xaml files that are
dynamically loaded.</li>
</ul>
<p>The other options refer to additional graphical assets that are needed
by the lobby outside of XAML.    </p>
<h3 id="sound">Sound</h3>
<p>Monaco currently depends on several sounds played by the platform. 
These sounds can differ by jurisdiction.  The sound files reside in each
jurisdiction subdirectory.  Add the required sound files below, or copy
them from another jurisdiction’s folder.</p>
<table>
<thead>
<tr>
<th><strong>File</strong></th>
<th><strong>Played When</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>alarm.ogg</td>
<td>TBD</td>
</tr>
<tr>
<td>coinin.ogg</td>
<td>TBD</td>
</tr>
<tr>
<td>coinout.ogg</td>
<td>TBD</td>
</tr>
<tr>
<td>collect.ogg</td>
<td>TBD</td>
</tr>
<tr>
<td>feature_bell.og</td>
<td>TBD</td>
</tr>
<tr>
<td>silence.ogg</td>
<td>TBD</td>
</tr>
<tr>
<td>snd_print_ticket.ogg</td>
<td>TBD</td>
</tr>
<tr>
<td>touch_sound.ogg</td>
<td>TBD</td>
</tr>
</tbody>
</table>
</article>
          </div>
          <div class="contribution-panel mobile-hide">
              <a href="https://github.com/Aristocrat-Monaco-Platform/monaco/blob/main/Documentation/docs/howto/add-jurisdiction.md/#L1" title="Improve this Doc" class="fab btn-warning pull-right"><i class="glyphicon glyphicon-pencil"></i></a>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
    <script type="text/javascript" src="../../styles/jquery.twbsPagination.js"></script>
    <script type="text/javascript" src="../../styles/url.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
    
    <!-- mermaid support -->
    <script src="https://unpkg.com/mermaid@8.13.4/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({
            startOnLoad: false,
            theme: 'default'
        });
    
        window.onload = function () {
            const elements = document.getElementsByClassName("lang-mermaid");
            let index = 0;
    
            while (elements.length != 0) {
                let element = elements[0];
                mermaid.render('graph'+index, element.innerText, (svgGraph) => {                    
                    element.parentElement.outerHTML = "<div class='mermaid'>" + svgGraph + "</div>";
                });
                ++index;
            }
        }
    </script>
  </body>
</html>
