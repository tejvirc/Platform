<operatorMenu:OperatorMenuPage x:Class="Aristocrat.Monaco.G2S.UI.Views.CertificatesView"
                               xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                               xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                               xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                               xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                               xmlns:lex="http://wpflocalizeextension.codeplex.com"
                               xmlns:loc="http://monaco.aristocrat.com/localization"
                               lex:ResxLocalizationProvider.DefaultAssembly="Aristocrat.Monaco.Localization"
                               lex:ResxLocalizationProvider.DefaultDictionary="Resources"
                               xmlns:operatorMenu="clr-namespace:Aristocrat.Monaco.Application.UI.OperatorMenu;assembly=Aristocrat.Monaco.Application.UI"
                               xmlns:viewModels="clr-namespace:Aristocrat.Monaco.G2S.UI.ViewModels"
                               xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
                               xmlns:common="clr-namespace:Aristocrat.Monaco.UI.Common;assembly=Aristocrat.Monaco.UI.Common"
                               xmlns:controls="http://monaco.aristocrat.com/common"
                               mc:Ignorable="d"
                               d:DataContext="{d:DesignInstance viewModels:CertificatesViewModel, IsDesignTimeCreatable=False}"
                               FocusManager.FocusedElement="{Binding ElementName=MainMenu}"
                               common:DialogParticipation.Register="{Binding}">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Aristocrat.Monaco.UI.Common;component/Skins/OperatorMenu.xaml" />
                <ResourceDictionary Source="/Aristocrat.Monaco.UI.Common;component/Skins/Converters.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <Style x:Key="CertificateNavButton"
                   TargetType="Button"
                   BasedOn="{StaticResource MonacoButton1}">
                <Setter Property="Margin"
                        Value="5 0 0 0" />
                <Setter Property="VerticalAlignment"
                        Value="Bottom" />
                <Setter Property="HorizontalAlignment"
                        Value="Right" />
                <Setter Property="Padding"
                        Value="15" />
            </Style>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid AutomationProperties.AutomationId="Grid0_2F3D0D04">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"
                           AutomationProperties.AutomationId="RowDefinition1_2F3D0D04" />
            <RowDefinition Height="*"
                           AutomationProperties.AutomationId="RowDefinition2_2F3D0D04" />
            <RowDefinition Height="Auto"
                           AutomationProperties.AutomationId="RowDefinition3_2F3D0D04" />
            <RowDefinition Height="Auto"
                           AutomationProperties.AutomationId="RowDefinition4_2F3D0D04" />
            <RowDefinition Height="Auto"
                           AutomationProperties.AutomationId="RowDefinition5_2F3D0D04" />
        </Grid.RowDefinitions>
        <Grid Grid.Row="0"
              loc:Localizer.For="Operator"
              AutomationProperties.AutomationId="Grid6_2F3D0D04">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"
                                  AutomationProperties.AutomationId="ColumnDefinition7_2F3D0D04" />
                <ColumnDefinition Width="Auto"
                                  AutomationProperties.AutomationId="ColumnDefinition8_2F3D0D04" />
                <ColumnDefinition Width="Auto"
                                  AutomationProperties.AutomationId="ColumnDefinition9_2F3D0D04" />
                <ColumnDefinition Width="20"
                                  AutomationProperties.AutomationId="ColumnDefinition10_2F3D0D04" />
                <ColumnDefinition Width="Auto"
                                  AutomationProperties.AutomationId="ColumnDefinition11_2F3D0D04" />
                <ColumnDefinition Width="Auto"
                                  AutomationProperties.AutomationId="ColumnDefinition12_2F3D0D04" />
            </Grid.ColumnDefinitions>
            <Button Grid.Column="4"
                    Content="{lex:Loc CertificateRenewButtonTitle}"
                    Command="{Binding RenewCertificateCommand, Mode=OneWay}"
                    IsEnabled="{Binding Path=RenewEnabled, Converter={StaticResource TrueVisibleFalseCollapsed}}"
                    VerticalAlignment="Bottom"
                    HorizontalAlignment="Right"
                    Margin="5 0 0 0"
                    AutomationProperties.AutomationId="Button13_2F3D0D04" />
            <Button Grid.Column="5"
                    Content="{lex:Loc CertificateRemoveButtonTitle}"
                    Command="{Binding RemoveCertificateCommand, Mode=OneWay}"
                    IsEnabled="{Binding Path=RemoveEnabled, Converter={StaticResource TrueVisibleFalseCollapsed}}"
                    VerticalAlignment="Bottom"
                    HorizontalAlignment="Right"
                    Margin="5 0 0 0"
                    AutomationProperties.AutomationId="Button14_2F3D0D04" />
            <Button Grid.Column="2"
                    Command="{Binding RollUpCommand, Mode=OneWay}"
                    Style="{StaticResource CertificateNavButton}"
                    AutomationProperties.AutomationId="Button15_2F3D0D04">
                <iconPacks:PackIconMaterial Kind="ArrowUpBold"
                                            Foreground="{Binding RelativeSource={RelativeSource AncestorType={x:Type Button}}, Path=Foreground}" />
            </Button>
            <Button Grid.Column="1"
                    Command="{Binding DrillDownCommand, Mode=OneWay}"
                    Style="{StaticResource CertificateNavButton}"
                    AutomationProperties.AutomationId="Button16_2F3D0D04">
                <iconPacks:PackIconMaterial Kind="ArrowDownBold"
                                            Foreground="{Binding RelativeSource={RelativeSource AncestorType={x:Type Button}}, Path=Foreground}" />
            </Button>
            <StackPanel Margin="10"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        HorizontalAlignment="Left"
                        Visibility="{Binding Path=EnrollEnabled, Converter={StaticResource TrueVisibleFalseCollapsed}}"
                        AutomationProperties.AutomationId="StackPanel17_2F3D0D04">
                <Grid AutomationProperties.AutomationId="Grid18_2F3D0D04">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"
                                       AutomationProperties.AutomationId="RowDefinition19_2F3D0D04" />
                        <RowDefinition Height="*"
                                       AutomationProperties.AutomationId="RowDefinition20_2F3D0D04" />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"
                                          AutomationProperties.AutomationId="ColumnDefinition21_2F3D0D04" />
                        <ColumnDefinition Width="Auto"
                                          AutomationProperties.AutomationId="ColumnDefinition22_2F3D0D04" />
                        <ColumnDefinition Width="Auto"
                                          AutomationProperties.AutomationId="ColumnDefinition23_2F3D0D04" />
                        <ColumnDefinition Width="*"
                                          AutomationProperties.AutomationId="ColumnDefinition24_2F3D0D04" />
                    </Grid.ColumnDefinitions>
                    <Label Grid.Row="0"
                           Grid.Column="0"
                           Content="{lex:Loc CertificatePreSharedSecretTitle}"
                           VerticalAlignment="Center"
                           Margin="10 5 0 0"
                           AutomationProperties.AutomationId="Label25_2F3D0D04" />
                    <controls:TouchTextBox Grid.Row="0"
                                           Grid.Column="1"
                                           Name="PreSharedSecret"
                                           Width="200"
                                           Margin="5 0 0 0"
                                           IsEnabled="{Binding IsScepEnabled, Mode=OneWay}"
                                           AutomationProperties.AutomationId="TextBox26_2F3D0D04">
                        <TextBox.Text>
                            <Binding Path="PreSharedSecret"
                                     UpdateSourceTrigger="PropertyChanged" />
                        </TextBox.Text>
                    </controls:TouchTextBox>
                    <Button Grid.Row="0"
                            Grid.Column="3"
                            Content="{lex:Loc CertificateEnrollButtonTitle}"
                            Command="{Binding EnrollCertificateCommand, Mode=OneWay}"
                            Margin="5 0 0 0"
                            VerticalAlignment="Bottom"
                            HorizontalAlignment="Right"
                            AutomationProperties.AutomationId="Button27_2F3D0D04">
                        <Button.Style>
                            <Style TargetType="Button"
                                   BasedOn="{StaticResource MonacoButton}">
                                <Setter Property="IsEnabled"
                                        Value="false" />
                                <Style.Triggers>
                                    <MultiDataTrigger AutomationProperties.AutomationId="MultiDataTrigger28_2F3D0D04">
                                        <MultiDataTrigger.Conditions>
                                            <Condition Binding="{Binding ElementName=PreSharedSecret, Path=(Validation.HasError)}"
                                                       Value="false" />
                                        </MultiDataTrigger.Conditions>
                                        <Setter Property="IsEnabled"
                                                Value="true" />
                                    </MultiDataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                </Grid>
            </StackPanel>
        </Grid>
        <DataGrid Name="CertificatesViewer"
                  Grid.Row="1"
                  ItemsSource="{Binding CertificateInfoData, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                  SelectedItem="{Binding SelectedCertificate}"
                  loc:Localizer.For="Operator"
                  AutomationProperties.AutomationId="DataGrid29_2F3D0D04">
            <DataGrid.Columns>
                <DataGridTextColumn Header="{lex:Loc NameLabel}"
                                    Width="Auto"
                                    Binding="{Binding CommonName}"
                                    loc:Localizer.For="Operator"
                                    AutomationProperties.AutomationId="DataGridTextColumn30_2F3D0D04" />
                <DataGridTextColumn Header="{lex:Loc CertificateThumbprint}"
                                    Width="Auto"
                                    Binding="{Binding Thumbprint}"
                                    FontSize="14"
                                    loc:Localizer.For="Operator"
                                    AutomationProperties.AutomationId="DataGridTextColumn31_2F3D0D04" />
                <DataGridTextColumn Header="{lex:Loc CertificateNotBefore}"
                                    Width="Auto"
                                    Binding="{Binding NotBefore}"
                                    loc:Localizer.For="Operator"
                                    AutomationProperties.AutomationId="DataGridTextColumn32_2F3D0D04" />
                <DataGridTextColumn Header="{lex:Loc CertificateNotAfter}"
                                    Width="Auto"
                                    Binding="{Binding NotAfter}"
                                    loc:Localizer.For="Operator"
                                    AutomationProperties.AutomationId="DataGridTextColumn33_2F3D0D04" />
                <DataGridTextColumn Header="{lex:Loc CertificateVerifyDate}"
                                    Width="Auto"
                                    Binding="{Binding VerificationDate}"
                                    loc:Localizer.For="Operator"
                                    AutomationProperties.AutomationId="DataGridTextColumn34_2F3D0D04" />
                <DataGridTextColumn Header="{lex:Loc StatusText}"
                                    Width="Auto"
                                    Binding="{Binding Status}"
                                    loc:Localizer.For="Operator"
                                    AutomationProperties.AutomationId="DataGridTextColumn35_2F3D0D04" />
                <DataGridTextColumn Header="{lex:Loc CertificateOcspOfflineDate}"
                                    Width="Auto"
                                    Binding="{Binding OcspOfflineDate}"
                                    loc:Localizer.For="Operator"
                                    AutomationProperties.AutomationId="DataGridTextColumn36_2F3D0D04" />
            </DataGrid.Columns>
        </DataGrid>
        <Grid Grid.Row="1"
              Grid.RowSpan="3"
              Visibility="{Binding Path=ShowRequestStatus, Converter={StaticResource TrueVisibleFalseCollapsed}}"
              AutomationProperties.AutomationId="Grid37_2F3D0D04">
            <Border Background="White"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Center"
                    AutomationProperties.AutomationId="Border38_2F3D0D04">
                <DockPanel LastChildFill="True"
                           AutomationProperties.AutomationId="DockPanel39_2F3D0D04">
                    <Label Content="{lex:Loc StatusText}"
                           DockPanel.Dock="Top"
                           HorizontalAlignment="Center"
                           AutomationProperties.AutomationId="Label40_2F3D0D04" />
                    <Button DockPanel.Dock="Bottom"
                            Margin="10"
                            Content="{lex:Loc Cancel}"
                            Command="{Binding CancelRequestCommand}"
                            HorizontalAlignment="Center"
                            AutomationProperties.AutomationId="Button41_2F3D0D04" />
                    <Label DockPanel.Dock="Bottom"
                           Content="{Binding RequestStatus}"
                           HorizontalAlignment="Center"
                           AutomationProperties.AutomationId="Label42_2F3D0D04" />
                </DockPanel>
            </Border>
        </Grid>
    </Grid>
</operatorMenu:OperatorMenuPage>