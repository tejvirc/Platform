<?xml version="1.0"?>

<Addin id="Stubs" namespace="Client12Addins" version="1.0">

  <Runtime>
    <Import assembly="Aristocrat.Monaco.Kernel.Contracts.dll" />
    <Import assembly="Stubs.dll" />
  </Runtime>

  <Dependencies>
    <Addin id="Bootstrap" version="1.0" />
    <Addin id="AccountingRunnable" version="1.0" />
    <!-- The line below is necessary for the /Kernel/PathMapping extension in this file -->
    <Addin id="Monaco.Kernel" version="1.0" />
    <!-- The line below is necessary to make Monaco.Hardware addin load correctly, but also for the IOImplementation extension -->
    <Addin id="Monaco.Hardware" version="1.0" />
  </Dependencies>

  <!-- Extend the layer -->
  <Extension path="/Accounting/BootExtender">
    <BootExtender type="Stubs.SimpleRunnable" />
  </Extension>

  <!-- Provide WindowLauncher service that Application layer would normally provide -->
  <Extension path="/Kernel/WindowLauncher">
    <WindowLauncher type="Stubs.WindowLauncher" />
  </Extension>

  <!-- Provide PlatformDisplay service that Application layer would normally provide -->
  <Extension path="/Kernel/PlatformDisplay">
    <PlatformDisplay type="Stubs.PlatformDisplay" />
  </Extension>
  
  <!-- Provide the IOImplementation service that is normally the IOGen8 one -->
  <Extension path="/Hardware/IO/IOImplementations">
    <DeviceImplementation ProtocolName="Stub" type="Stubs.StubIOImplementation"/>
  </Extension>

  <!-- For some reason, the /Logs path is mapped in a gaming addin.xml file, even though the path is used in the Application layer -->
  <Extension path="/Kernel/PathMapping">
    <PathMapping platformPath="/Logs" fileSystemPath="../logs" createIfNotExists="true" />
  </Extension>

</Addin>
