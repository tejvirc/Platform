Keyboard Commands
=================

<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [Add Credits](#add-credits)
- [Game Play](#game-play)
- [Hardware IO Triggers](#hardware-io-triggers)
- [Other Actions](#other-actions)
- [Extending/Overriding](#extendingoverriding)
    - [JSON object structure:](#json-object-structure)

<!-- /code_chunk_output -->

<div class="alert alert-danger">
    <p>F9 to enable/disable Keyboard Commands
    Keyboard Commands are off by default. Pressing F9 will enable them; Pressing F9 again, will disable them.<p>
    <p>When Keyboard Commands are enabled, regular data entry from the keyboard, will not work. For example, trying to type an IP Address in the configuration page will not work.</p>
</div>

When the Key Converter add-in is present the following keyboard commands can be used to simulate events normally generated by hardware devices or external stimuli.  

## Add Credits

| Bill In | Key |
|---------|-----|
| $.01 | NumPad1 |
| $.05 | NumPad2 |
| $.10 | NumPad3 |
| $.25 | NumPad4 |
| $.50 | NumPad5 |
| $1 | 1 |
| $2 | 2 |
| $5 | 3 |
| $10 | 4 |
| $20 | 5 |
| $50 | 6 |
| $100 | 7 |
| $20 (Promotional Credit) | + (On the numpad) |
| $20 (Non Transferrable Promotional Credit) | - (On the numpad) |
| Insert Voucher 123456789012345678 | NumPad6 |

## Game Play

| Command | Key |
|---|---|
| Play | Space |
| Play 1 | Q |
| Play 2 | W |
| Play 3 | E |
| Play 4 | R |
| Play 5 | T |
| Max Bet | Y |
| Bet 1 | A |
| Bet 2 | S |
| Bet 3 | D |
| Bet 4 | F |
| Bet 5 | G |

## Hardware IO Triggers

| Device | On Key (Open) | On Key (Close) |
|---|---|---|
| Main Door | 8 | 9 |
| Belly Door | 0 | - |
| Cash Door | O | P |
| Logic Door | K | L |
| Top Box Door | ; | ' |
| Drop Door | , | . |
| Insert Card (1124936) | N | |
| Remove Card (1124936) | M | |
| Main Optic Door | Numpad8 | Numpad9 |
| Top Box Optic Door | / (On the numpad) | * (On the numpad) |
| Stacker Removal | \ (remove) | / (re-insert) |

## Other Actions

| Action | Key  |
|---|---|
| Exit | Escape |
| Operator Key (opens operator menu) | F1 |
| Jackpot Key/Clear Jackpot From Operator menu | F2 |
| Toggle Keyboard Cash In Limit (default=off)	 | F5 |
| Toggle Service Button | F6 |
| Terminate Runtime | F11 |
| Chrome Developer Tools (debug build only)<br />**Must have Media Display focused to use | F12 |
| Enable countdown timer to 5 seconds | U |
| Disable countdown timer | I |
| Cashout the EGM | C |
| Toggle Robot Mode | Z |
| Barkeeper Button | B |
| Insert EKey (EKey drive will be D:\\) | H |
| Remove EKey | J |
| Insert Technician card (EMP123) | [ |
| Insert Operator card (EMP321) | ] |
| Remove card | = |

*\*\*Disabled on Helix cabinet*

##  Extending/Overriding

Keyboard commands can be added or overridden by editing KeyConverter.BuildKeyMapping() in the Platform source code, or by placing a "keyboardActions.json" file in the Platform bin folder. The keyboard-based actions are based on platform events, so while the file has a fairly simple structure it does require knowledge of the event signature.

The following example adds a new events to the F7 and F8 key:

**Sample KeyboardActions.json**

```json
{
    "F7":
    {
        "Item1":"Aristocrat.Monaco.Gaming.Contracts.TerminateGameProcessEvent, Aristocrat.Monaco.Gaming.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null",
        "Item2":[
        ]
    },

    "F8":
    {
        "Item1":"Aristocrat.Monaco.Accounting.Contracts.BankBalanceChangedEvent, Aristocrat.Monaco.Accounting.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null",
        "Item2":[
            100,
            1100
        ]
    }
}
```

#### JSON object structure:
- The first value defines the [key](https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.keys?view=netframework-4.7.2). 
- Item1 defines the event and the assembly where the event lives.  Basically the C# type
- Item2 defines any parameters that should be used to construct the event.  This is an array and can support any C# [value type](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/value-types).
