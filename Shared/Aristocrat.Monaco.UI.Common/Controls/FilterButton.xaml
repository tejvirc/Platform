<UserControl
    x:Class="Aristocrat.Monaco.UI.Common.Controls.FilterButton" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls" xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks" xmlns:models="clr-namespace:Aristocrat.Monaco.UI.Common.Models" xmlns:lex="http://wpflocalizeextension.codeplex.com" xmlns:loc="http://monaco.aristocrat.com/localization"
    mc:Ignorable="d"
    DataContext="{Binding RelativeSource={RelativeSource Self}}"
    AutomationProperties.AutomationId="UserControl0_A993AC6C">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary
                    Source="/Aristocrat.Monaco.UI.Common;component/Skins/OperatorMenu.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <StackPanel
        Orientation="Vertical"
        AutomationProperties.AutomationId="StackPanel1_A993AC6C">
        <ToggleButton
            x:Name="FilterToggleButton"
            Style="{StaticResource FilterToggleButton}"
            AutomationProperties.AutomationId="ToggleButton2_A993AC6C">
            <StackPanel
                Orientation="Horizontal"
                VerticalAlignment="Bottom"
                AutomationProperties.AutomationId="StackPanel3_A993AC6C">
                <mah:ContentControlEx
                    Style="{StaticResource FilterContent}"
                    Content="{Binding HeaderText}" />
                <iconPacks:PackIconMaterial
                    Style="{StaticResource FilterIcon}" />
            </StackPanel>
        </ToggleButton>
        <Popup
            Style="{StaticResource FilterPopup}"
            PlacementTarget="{Binding ElementName=FilterToggleButton}"
            IsOpen="{Binding ElementName=FilterToggleButton, Path=IsChecked}"
            AutomationProperties.AutomationId="Popup4_A993AC6C">
            <Border
                Style="{StaticResource FilterPopupBorder}"
                AutomationProperties.AutomationId="Border5_A993AC6C">
                <StackPanel
                    Orientation="Vertical"
                    AutomationProperties.AutomationId="StackPanel6_A993AC6C">
                    <CheckBox
                        x:Name="SelectAllCheckbox"
                        Margin="5"
                        Content="{lex:Loc Key={x:Static loc:ResourceKeys.SelectAll}}"
                        IsChecked="{Binding SelectAllIsChecked}"
                        AutomationProperties.AutomationId="CheckBox7_A993AC6C" />
                    <Separator
                        Foreground="{DynamicResource Brush3}"
                        AutomationProperties.AutomationId="Separator8_A993AC6C" />
                    <ItemsControl
                        Margin="3 5"
                        ScrollViewer.CanContentScroll="False"
                        ItemsSource="{Binding FilterObjectList}"
                        AutomationProperties.AutomationId="ItemsControl9_A993AC6C">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate
                                DataType="{x:Type models:FilterObject}">
                                <CheckBox
                                    Margin="2"
                                    IsChecked="{Binding IsChecked}"
                                    Content="{Binding Name}"
                                    AutomationProperties.AutomationId="CheckBox10_A993AC6C" />
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </Border>
        </Popup>
    </StackPanel>
</UserControl>